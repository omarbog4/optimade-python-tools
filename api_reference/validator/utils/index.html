<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Documentation for the OPTIMADE Python tools" name="description"/><link href="https://www.optimade.org/optimade-python-tools/api_reference/validator/utils/" rel="canonical"/><link href="../../../images/favicon.png" rel="shortcut icon"/><meta content="mkdocs-1.1.2, mkdocs-material-5.5.12" name="generator"/><title>utils - OPTIMADE Python tools</title><link href="../../../assets/stylesheets/main.4dd2dd8d.min.css" rel="stylesheet"/><link href="../../../assets/stylesheets/palette.6a5ad368.min.css" rel="stylesheet"/><meta content="#000000" name="theme-color"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link href="../../../css/reference.css" rel="stylesheet"/></head> <body data-md-color-accent="red" data-md-color-primary="black" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#utils"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav aria-label="Header" class="md-header-nav md-grid"> <a aria-label="OPTIMADE Python tools" class="md-header-nav__button md-logo" href="https://www.optimade.org/optimade-python-tools/" title="OPTIMADE Python tools"> <img alt="logo" src="../../../images/optimade_logo_180x180.svg"/> </a> <label class="md-header-nav__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg> </label> <div class="md-header-nav__title" data-md-component="header-title"> <div class="md-header-nav__ellipsis"> <span class="md-header-nav__topic md-ellipsis"> OPTIMADE Python tools </span> <span class="md-header-nav__topic md-ellipsis"> utils </span> </div> </div> <label class="md-header-nav__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </label> <button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg> </button> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list"></ol> </div> </div> </div> </div> </div> <div class="md-header-nav__source"> <a class="md-source" href="https://github.com/Materials-Consortia/optimade-python-tools" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class="md-source__repository"> optimade-python-tools </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="OPTIMADE Python tools" class="md-nav__button md-logo" href="https://www.optimade.org/optimade-python-tools/" title="OPTIMADE Python tools"> <img alt="logo" src="../../../images/optimade_logo_180x180.svg"/> </a> OPTIMADE Python tools </label> <div class="md-nav__source"> <a class="md-source" href="https://github.com/Materials-Consortia/optimade-python-tools" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class="md-source__repository"> optimade-python-tools </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../.." title="OPTIMADE Python tools"> OPTIMADE Python tools </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../install/" title="Installation"> Installation </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../configuration/" title="Configuration"> Configuration </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../CONTRIBUTING/" title="Contributing"> Contributing </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/> <label class="md-nav__link" for="nav-5"> Use Cases <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Use Cases" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="nav-5"> <span class="md-nav__icon md-icon"></span> Use Cases </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../../use_cases/single_db/" title="A single database"> A single database </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../use_cases/multi_db/" title="Multiple databases"> Multiple databases </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../use_cases/dynamic_db/" title="Dynamic databases"> Dynamic databases </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../CHANGELOG/" title="Changelog"> Changelog </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../all_models/" title="All models"> All models </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-8" id="nav-8" type="checkbox"/> <label class="md-nav__link" for="nav-8"> API Reference <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="API Reference" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="nav-8"> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-1" id="nav-8-1" type="checkbox"/> <label class="md-nav__link" for="nav-8-1"> adapters <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="adapters" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-1"> <span class="md-nav__icon md-icon"></span> adapters </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/base/" title="base"> base </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/exceptions/" title="exceptions"> exceptions </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/logger/" title="logger"> logger </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-1-4" id="nav-8-1-4" type="checkbox"/> <label class="md-nav__link" for="nav-8-1-4"> references <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="references" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="nav-8-1-4"> <span class="md-nav__icon md-icon"></span> references </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/references/adapter/" title="adapter"> adapter </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-1-5" id="nav-8-1-5" type="checkbox"/> <label class="md-nav__link" for="nav-8-1-5"> structures <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="structures" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="nav-8-1-5"> <span class="md-nav__icon md-icon"></span> structures </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/adapter/" title="adapter"> adapter </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/aiida/" title="aiida"> aiida </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/ase/" title="ase"> ase </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/cif/" title="cif"> cif </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/jarvis/" title="jarvis"> jarvis </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/proteindatabank/" title="proteindatabank"> proteindatabank </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/pymatgen/" title="pymatgen"> pymatgen </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../adapters/structures/utils/" title="utils"> utils </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-2" id="nav-8-2" type="checkbox"/> <label class="md-nav__link" for="nav-8-2"> filterparser <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="filterparser" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-2"> <span class="md-nav__icon md-icon"></span> filterparser </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../filterparser/lark_parser/" title="lark_parser"> lark_parser </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-3" id="nav-8-3" type="checkbox"/> <label class="md-nav__link" for="nav-8-3"> filtertransformers <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="filtertransformers" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-3"> <span class="md-nav__icon md-icon"></span> filtertransformers </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../filtertransformers/debug/" title="debug"> debug </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../filtertransformers/django/" title="django"> django </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../filtertransformers/elasticsearch/" title="elasticsearch"> elasticsearch </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../filtertransformers/json/" title="json"> json </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../filtertransformers/mongo/" title="mongo"> mongo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-4" id="nav-8-4" type="checkbox"/> <label class="md-nav__link" for="nav-8-4"> models <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="models" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-4"> <span class="md-nav__icon md-icon"></span> models </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/baseinfo/" title="baseinfo"> baseinfo </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/entries/" title="entries"> entries </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/index_metadb/" title="index_metadb"> index_metadb </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/jsonapi/" title="jsonapi"> jsonapi </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/links/" title="links"> links </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/optimade_json/" title="optimade_json"> optimade_json </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/references/" title="references"> references </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/responses/" title="responses"> responses </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/structures/" title="structures"> structures </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../models/utils/" title="utils"> utils </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-5" id="nav-8-5" type="checkbox"/> <label class="md-nav__link" for="nav-8-5"> server <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="server" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-5"> <span class="md-nav__icon md-icon"></span> server </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/config/" title="config"> config </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/exception_handlers/" title="exception_handlers"> exception_handlers </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/exceptions/" title="exceptions"> exceptions </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/logger/" title="logger"> logger </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/main/" title="main"> main </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/main_index/" title="main_index"> main_index </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/middleware/" title="middleware"> middleware </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/query_params/" title="query_params"> query_params </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/warnings/" title="warnings"> warnings </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-5-10" id="nav-8-5-10" type="checkbox"/> <label class="md-nav__link" for="nav-8-5-10"> entry_collections <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="entry_collections" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="nav-8-5-10"> <span class="md-nav__icon md-icon"></span> entry_collections </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/entry_collections/entry_collections/" title="entry_collections"> entry_collections </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/entry_collections/mongo/" title="mongo"> mongo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-5-11" id="nav-8-5-11" type="checkbox"/> <label class="md-nav__link" for="nav-8-5-11"> mappers <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="mappers" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="nav-8-5-11"> <span class="md-nav__icon md-icon"></span> mappers </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/mappers/entries/" title="entries"> entries </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/mappers/links/" title="links"> links </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/mappers/references/" title="references"> references </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/mappers/structures/" title="structures"> structures </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-5-12" id="nav-8-5-12" type="checkbox"/> <label class="md-nav__link" for="nav-8-5-12"> routers <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="routers" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="nav-8-5-12"> <span class="md-nav__icon md-icon"></span> routers </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/index_info/" title="index_info"> index_info </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/info/" title="info"> info </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/landing/" title="landing"> landing </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/links/" title="links"> links </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/references/" title="references"> references </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/structures/" title="structures"> structures </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/utils/" title="utils"> utils </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../server/routers/versions/" title="versions"> versions </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-8-6" id="nav-8-6" type="checkbox"/> <label class="md-nav__link" for="nav-8-6"> validator <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="validator" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="nav-8-6"> <span class="md-nav__icon md-icon"></span> validator </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../config/" title="config"> config </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> utils <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./" title="utils"> utils </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils"> optimade.validator.utils </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client"> Client </a> <nav aria-label="Client" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client.__init__"> __init__() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client.get"> get() </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.InternalError"> InternalError </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.ResponseError"> ResponseError </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_failure"> print_failure() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_notify"> print_notify() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_success"> print_success() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_warning"> print_warning() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.test_case"> test_case() </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../validator/" title="validator"> validator </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils"> optimade.validator.utils </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client"> Client </a> <nav aria-label="Client" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client.__init__"> __init__() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.Client.get"> get() </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.InternalError"> InternalError </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.ResponseError"> ResponseError </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_failure"> print_failure() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_notify"> print_notify() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_success"> print_success() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.print_warning"> print_warning() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#optimade.validator.utils.test_case"> test_case() </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content"> <article class="md-content__inner md-typeset"> <h1 id="utils">utils<a class="headerlink" href="#utils" title="Permanent link">¶</a></h1> <div class="doc doc-object doc-module"> <h2 class="hidden-toc" href="#optimade.validator.utils" id="optimade.validator.utils" style="visibility: hidden; width: 0; height: 0;"> <a class="headerlink" href="#optimade.validator.utils" title="Permanent link">¶</a></h2> <div class="doc doc-contents first"> <p>This submodule contains utility methods and models used by the validator. The two main features being:</p> <ol> <li>The <code>@test_case</code> decorator can be used to decorate validation methods and performs error handling, output and logging of test successes and failures.</li> <li>The patched <code>Validator</code> versions allow for stricter validation of server responses. The standard response classes allow entries to be provided as bare dictionaries, whilst these patched classes force them to be validated with the corresponding entry models themselves.</li> </ol> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading" id="optimade.validator.utils.Client"> <code>Client</code> <a class="headerlink" href="#optimade.validator.utils.Client" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <div class="doc doc-children"> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id="optimade.validator.utils.Client.__init__"> <code class="highlight language-python"> __init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_url</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> </code> <span class="doc doc-properties"> <small class="doc doc-property doc-property-special"><code>special</code></small> </span> <a class="headerlink" href="#optimade.validator.utils.Client.__init__" title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Initialises the Client with the given <code>base_url</code> without testing if it is valid.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>base_url</code></td> <td><code>str</code></td> <td> <p>the base URL of the optimade implementation, including request protocol (e.g. <code>'http://'</code>) and API version number if necessary.</p> <p>Examples:</p> <div class="highlight"> <pre><span></span><code>- `'http://example.org/optimade/v1'`,
- `'www.crystallography.net/cod-test/optimade/v0.10.0/'`
</code></pre> </div> <p>Note: A maximum of one slash ("/") is allowed as the last character.</p> </td> <td><em>required</em></td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">"""Initialises the Client with the given `base_url` without testing</span>
<span class="sd">    if it is valid.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        base_url (str): the base URL of the optimade implementation, including</span>
<span class="sd">            request protocol (e.g. `'http://'`) and API version number if necessary.</span>

<span class="sd">            Examples:</span>

<span class="sd">                - `'http://example.org/optimade/v1'`,</span>
<span class="sd">                - `'www.crystallography.net/cod-test/optimade/v0.10.0/'`</span>

<span class="sd">            Note: A maximum of one slash ("/") is allowed as the last character.</span>

<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="n">base_url</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_request</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_retries</span> <span class="o">=</span> <span class="n">max_retries</span>
</code></pre> </div> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id="optimade.validator.utils.Client.get"> <code class="highlight language-python"> get<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.Client.get" title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Makes the given request, with a number of retries if being rate limited. The request will be prepended with the <code>base_url</code> unless the request appears to be an absolute URL (i.e. starts with <code>http://</code> or <code>https://</code>).</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>request</code></td> <td><code>str</code></td> <td> <p>the request to make against the base URL of this client.</p> </td> <td><em>required</em></td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>response (requests.models.Response)</code></td> <td> <p>the response from the server.</p> </td> </tr> </tbody> </table> <p><strong>Exceptions:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>SystemExit</code></td> <td> <p>if there is no response from the server, or if the URL is invalid.</p> </td> </tr> <tr> <td><code>ResponseError</code></td> <td> <p>if the server does not respond with a non-429 status code within the <code>MAX_RETRIES</code> attempts.</p> </td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">"""Makes the given request, with a number of retries if being rate limited. The</span>
<span class="sd">    request will be prepended with the `base_url` unless the request appears to be an</span>
<span class="sd">    absolute URL (i.e. starts with `http://` or `https://`).</span>

<span class="sd">    Parameters:</span>
<span class="sd">        request (str): the request to make against the base URL of this client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        response (requests.models.Response): the response from the server.</span>

<span class="sd">    Raises:</span>
<span class="sd">        SystemExit: if there is no response from the server, or if the URL is invalid.</span>
<span class="sd">        ResponseError: if the server does not respond with a non-429 status code within</span>
<span class="sd">            the `MAX_RETRIES` attempts.</span>

<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlparse</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">allow_fragments</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">scheme</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_request</span> <span class="o">=</span> <span class="n">request</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">request</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">request</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">"/"</span><span class="p">):</span>
            <span class="n">request</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"/</span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2">"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_request</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">base_url</span><span class="si">}{</span><span class="n">request</span><span class="si">}</span><span class="s2">"</span>

    <span class="n">status_code</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">retries</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># probably a smarter way to do this with requests, but their documentation 404's...</span>
    <span class="k">while</span> <span class="n">retries</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_retries</span><span class="p">:</span>
        <span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_request</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: No response from server at </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_request</span><span class="si">}</span><span class="s2">, please check the URL."</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">MissingSchema</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">"Unable to make request on </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_request</span><span class="si">}</span><span class="s2">, did you mean http://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_request</span><span class="si">}</span><span class="s2">?"</span>
            <span class="p">)</span>
        <span class="n">status_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span>
        <span class="k">if</span> <span class="n">status_code</span> <span class="o">!=</span> <span class="mi">429</span><span class="p">:</span>
            <span class="k">break</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">"Hit rate limit, sleeping for 1 s..."</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ResponseError</span><span class="p">(</span><span class="s2">"Hit max (manual) retries on request."</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">response</span>
</code></pre> </div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading" id="optimade.validator.utils.InternalError"> <code>InternalError</code> <a class="headerlink" href="#optimade.validator.utils.InternalError" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>This exception should be raised when validation throws an unexpected error. These should be counted separately from <code>ResponseError</code>'s and <code>ValidationError</code>'s.</p> </div> </div> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading" id="optimade.validator.utils.ResponseError"> <code>ResponseError</code> <a class="headerlink" href="#optimade.validator.utils.ResponseError" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>This exception should be raised for a manual hardcoded test failure. </p> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading" id="optimade.validator.utils.print_failure"> <code class="highlight language-python"> print_failure<span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.print_failure" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Print but sad. </p> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">print_failure</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">""" Print but sad. """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\033</span><span class="s2">[91m</span><span class="se">\033</span><span class="s2">[1m</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="se">\033</span><span class="s2">[0m"</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre> </div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading" id="optimade.validator.utils.print_notify"> <code class="highlight language-python"> print_notify<span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.print_notify" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Print but louder. </p> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">print_notify</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">""" Print but louder. """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\033</span><span class="s2">[94m</span><span class="se">\033</span><span class="s2">[1m</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="se">\033</span><span class="s2">[0m"</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre> </div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading" id="optimade.validator.utils.print_success"> <code class="highlight language-python"> print_success<span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.print_success" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Print but happy. </p> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">print_success</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">""" Print but happy. """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\033</span><span class="s2">[92m</span><span class="se">\033</span><span class="s2">[1m</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="se">\033</span><span class="s2">[0m"</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre> </div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading" id="optimade.validator.utils.print_warning"> <code class="highlight language-python"> print_warning<span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.print_warning" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Print but angry. </p> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">print_warning</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">""" Print but angry. """</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\033</span><span class="s2">[93m</span><span class="si">{</span><span class="n">string</span><span class="si">}</span><span class="se">\033</span><span class="s2">[0m"</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre> </div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading" id="optimade.validator.utils.test_case"> <code class="highlight language-python"> test_case<span class="p">(</span><span class="n">test_fn</span><span class="p">)</span> </code> <a class="headerlink" href="#optimade.validator.utils.test_case" title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Wrapper for test case functions, which pretty-prints any errors depending on verbosity level, collates the number and severity of test failures, returns the response and summary string to the caller. Any additional positional or keyword arguments are passed directly to <code>test_fn</code>. The wrapper will intercept the named arguments <code>optional</code>, <code>multistage</code> and <code>request</code> and interpret them according to the docstring for <code>wrapper(...)</code> below.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>test_fn</code></td> <td><code>Callable[[Any], Tuple[Any, str]]</code></td> <td> <p>Any function that returns an object and a message to print upon success. The function should raise a <code>ResponseError</code>, <code>ValidationError</code> or a <code>ManualValidationError</code> if the test case has failed. The function can return <code>None</code> to indicate that the test was not appropriate and should be ignored.</p> </td> <td><em>required</em></td> </tr> </tbody> </table> <details class="quote"> <summary>Source code in <code>optimade/validator/utils.py</code></summary> <div class="highlight"> <pre><span></span><code><span class="k">def</span> <span class="nf">test_case</span><span class="p">(</span><span class="n">test_fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]):</span>
    <span class="sd">"""Wrapper for test case functions, which pretty-prints any errors</span>
<span class="sd">    depending on verbosity level, collates the number and severity of</span>
<span class="sd">    test failures, returns the response and summary string to the caller.</span>
<span class="sd">    Any additional positional or keyword arguments are passed directly</span>
<span class="sd">    to `test_fn`. The wrapper will intercept the named arguments</span>
<span class="sd">    `optional`, `multistage` and `request` and interpret them according</span>
<span class="sd">    to the docstring for `wrapper(...)` below.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        test_fn: Any function that returns an object and a message to</span>
<span class="sd">            print upon success. The function should raise a `ResponseError`,</span>
<span class="sd">            `ValidationError` or a `ManualValidationError` if the test</span>
<span class="sd">            case has failed. The function can return `None` to indicate</span>
<span class="sd">            that the test was not appropriate and should be ignored.</span>

<span class="sd">    """</span>
    <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

    <span class="nd">@wraps</span><span class="p">(</span><span class="n">test_fn</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span>
        <span class="n">validator</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="n">request</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">optional</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">multistage</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">"""Wraps a function or validator method and handles</span>
<span class="sd">        success, failure and output depending on the keyword</span>
<span class="sd">        arguments passed.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            validator: The validator object to accumulate errors/counters.</span>
<span class="sd">            *args: Positional arguments passed to the test function.</span>
<span class="sd">            request: Description of the request made by the wrapped</span>
<span class="sd">                function (e.g. a URL or a summary).</span>
<span class="sd">            optional: Whether or not to treat the test as optional.</span>
<span class="sd">            multistage: If `True`, no output will be printed for this test,</span>
<span class="sd">                and it will not increment the success counter. Errors will be</span>
<span class="sd">                handled in the normal way. This can be used to avoid flooding</span>
<span class="sd">                the output for mutli-stage tests.</span>
<span class="sd">                request: The request that has been performed</span>
<span class="sd">                optional: Whether to count this test as optional</span>
<span class="sd">                multistage</span>
<span class="sd">            **kwargs: Extra named arguments passed to the test function.</span>

<span class="sd">        """</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">optional</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">validator</span><span class="o">.</span><span class="n">run_optional_tests</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">"skipping optional"</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">result</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">test_fn</span><span class="p">(</span><span class="n">validator</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">"Critical: unable to parse server response as JSON. "</span>
                    <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">"</span>
                <span class="p">)</span>
                <span class="k">raise</span> <span class="n">exc</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">ResponseError</span><span class="p">,</span> <span class="n">ValidationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">"</span>
                <span class="k">raise</span> <span class="n">exc</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">exc</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">"</span>
                <span class="k">raise</span> <span class="n">InternalError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Catch SystemExit here so that we can pass it through to the finally block,</span>
        <span class="c1"># but prepare to immediately throw it</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,</span> <span class="ne">SystemExit</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">exc</span>
            <span class="n">traceback</span> <span class="o">=</span> <span class="n">tb</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>

        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># This catches the case of the Client throwing a SystemExit if the server</span>
            <span class="c1"># did not respond, and the case of the validator "fail-fast"'ing and throwing</span>
            <span class="c1"># a SystemExit below</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="ne">SystemExit</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">SystemExit</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

            <span class="n">display_request</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">display_request</span> <span class="o">=</span> <span class="n">validator</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">last_request</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="n">display_request</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">display_request</span> <span class="o">=</span> <span class="n">validator</span><span class="o">.</span><span class="n">base_url</span>
                <span class="k">if</span> <span class="n">request</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">display_request</span> <span class="o">+=</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">request</span>

            <span class="n">request</span> <span class="o">=</span> <span class="n">display_request</span>

            <span class="c1"># If the result was None, return it here and ignore statuses</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">msg</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">multistage</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">optional_success_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"✔: </span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">"</span>
                    <span class="k">if</span> <span class="n">validator</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">optional</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">print_success</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">"."</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">print_success</span><span class="p">(</span><span class="s2">"."</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">internal_error</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">request</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
                <span class="n">message</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">validator</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="c1"># ValidationErrors from pydantic already include very detailed errors</span>
                    <span class="c1"># that get duplicated in the traceback</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">ValidationError</span><span class="p">):</span>
                        <span class="n">message</span> <span class="o">+=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">InternalError</span><span class="p">):</span>
                    <span class="n">internal_error</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">validator</span><span class="o">.</span><span class="n">internal_failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"!: </span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">test_fn</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> - failed with internal error"</span>
                    <span class="n">validator</span><span class="o">.</span><span class="n">internal_failure_messages</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">summary</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"✖: </span><span class="si">{</span><span class="n">request</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">test_fn</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> - failed with error"</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">failure_messages</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">summary</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">optional_failure_count</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="n">validator</span><span class="o">.</span><span class="n">optional_failure_messages</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">summary</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">validator</span><span class="o">.</span><span class="n">verbosity</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">internal_error</span><span class="p">:</span>
                        <span class="n">print_notify</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">message</span><span class="p">:</span>
                            <span class="n">print_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\t</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">message</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\t</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">print_failure</span><span class="p">(</span><span class="n">summary</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">message</span><span class="p">:</span>
                            <span class="n">print_warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\t</span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">internal_error</span><span class="p">:</span>
                        <span class="n">print_notify</span><span class="p">(</span><span class="s2">"!"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">optional</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">"✖"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">print_failure</span><span class="p">(</span><span class="s2">"✖"</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

                <span class="c1"># set failure result to None as this is expected by other functions</span>
                <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="n">validator</span><span class="o">.</span><span class="n">fail_fast</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">optional</span><span class="p">:</span>
                    <span class="n">validator</span><span class="o">.</span><span class="n">print_summary</span><span class="p">()</span>
                    <span class="k">raise</span> <span class="ne">SystemExit</span>

            <span class="c1"># Reset the client request so that it can be properly</span>
            <span class="c1"># displayed if the next request fails</span>
            <span class="n">validator</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">last_request</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">msg</span>

    <span class="k">return</span> <span class="n">wrapper</span>
</code></pre> </div> </details> </div> </div> </div> </div> </div> </article> </div> </div> </main> <footer class="md-footer"> <div class="md-footer-nav"> <nav aria-label="Footer" class="md-footer-nav__inner md-grid"> <a class="md-footer-nav__link md-footer-nav__link--prev" href="../config/" rel="prev" title="config"> <div class="md-footer-nav__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </div> <div class="md-footer-nav__title"> <div class="md-ellipsis"> <span class="md-footer-nav__direction"> Previous </span> config </div> </div> </a> <a class="md-footer-nav__link md-footer-nav__link--next" href="../validator/" rel="next" title="validator"> <div class="md-footer-nav__title"> <div class="md-ellipsis"> <span class="md-footer-nav__direction"> Next </span> validator </div> </div> <div class="md-footer-nav__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-footer-copyright"> <div class="md-footer-copyright__highlight"> Built by the Materials-Consortia </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> <div class="md-footer-social"> <a class="md-footer-social__link" href="https://github.com/Materials-Consortia" rel="noopener" target="_blank" title="github.com"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a> </div> </div> </div> </footer> </div> <script src="../../../assets/javascripts/vendor.3636a4ec.min.js"></script> <script src="../../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>